{# Add htmx code at top level because submits GET with all forms #}
<div  class="table-tools-wrapper">

    <div class = "row">
      <div class = "column">
	<div class = "half-table">
	  <div hx-get="{% url 'germplasm:stocks_table_view' %}" hx-trigger="load" hx-swap="outerHTML">
		  Error loading table!
	  </div>
	</div>
      </div>
      <div class = "column">
	<div class = "table-options">
	<form id="form" method="GET" action="{% url 'germplasm:new_nursery_view' %}">
	  <label for = "filter-options-box"
	         class = "options-box"> Search stocks: </label>
	  <input type = "search"
	       class = "filter-options-box"
	       name = "filter"
	       id = "filter-options-box"
	       placeholder = "Filter...">
	  </br>
	  <label for = "filter-box"
	         class = "options-box"> Stock gen: </label>
	  <select id="gens" name = "gens" class = "select-options-box">
	    <option value = "">All</option>
	    <option value = "F1">F1</option>
	    <option value = "F2">F2</option>
	    <option value = "F3">F3</option>
	  </select>
	  <br/>
	   {# NEed to default and auto-generate #} 
	  <label for = "filter-box"
	         class = "options-box"> Year: </label>
	    <select id="year" name = "year" class = "select-options-box">
	      <option value = "2024">2024</option>
	    </select>
	  <br/>
	  <label for = "sd_units"
	         class = "options-box"> Stock type: </label>
	  <select id="sd_units" name = "sd_units" class = "select-options-box">
            <option value = ""> All </option>
            <option value = "sds"> Seeds </option>
            <option value = "hds"> Heads </option>
            <option value = "g"> Grams </option>
            <option value = "lb"> Pounds </option>
	  </select>
	  <br/>
	  <button hx-get="{% url 'germplasm:stocks_table_view' %}"
		  hx-include="[name='filter'], [name='gens'], [name='sd_units']"
	          hx-trigger="click"
	          hx-target="div.table-container"
	          hx-swap="outerHTML">
		  Update Table </button>
	  <br/>
            <input type="submit" value = "submit">
          </form>
	  
	  <input> Download CSV </input>
	  <br/>
	  <input> Download Labels </input>
	  <br/>

          <form hx-post = "{% url 'germplasm:stocks_wrapper_view' %}"
              hx-encoding = "multipart/form-data"
              hx-target="div.table-tools-wrapper">
                {% csrf_token %}
                {{ upload_form }}
                <input class = "button" type="submit" value = "Upload">
          </form>
	</div>
      </div>
    </div>


</div>
